<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="he" dir="rtl"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="apple-mobile-web-app-title" content="×©×¢×•×Ÿ × ×•×›×—×•×ª"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;×©×¢×•×Ÿ × ×•×›×—×•×ª&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>* { box-sizing: border-box; margin: 0; padding: 0; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-family: Arial, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #1a1a2e;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>min-height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>flex-direction: column;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>h1 { font-size: 1.3em; margin: 20px 0 4px; color: #a0c4ff; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#clock { font-size: 3em; font-weight: bold; margin: 10px 0; letter-spacing: 3px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#date-display { font-size: 0.9em; color: #aaa; margin-bottom: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%; max-width: 340px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 20px; font-size: 1.2em; font-weight: bold;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: none; border-radius: 14px; cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 8px 0; transition: transform 0.1s;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn:active { transform: scale(0.97); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.btn:disabled { opacity: 0.4; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#btn-in <span class="Apple-converted-space">Â  </span>{ background: #27ae60; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#btn-out<span class="Apple-converted-space">Â  </span>{ background: #e74c3c; color: white; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#btn-sub<span class="Apple-converted-space">Â  </span>{ background: #2980b9; color: white; margin-top: 16px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#btn-view { background: #555; color: white; font-size: 0.9em; padding: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#status {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 12px 0; padding: 12px 16px; border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 0.95em; text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>max-width: 340px; width: 100%; display: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#status.ok<span class="Apple-converted-space">Â  </span>{ background:#1e3a2e; border:1px solid #27ae60; color:#27ae60; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#status.err { background:#3a1e1e; border:1px solid #e74c3c; color:#e74c3c; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#status.info{ background:#1e2a3a; border:1px solid #2980b9; color:#7fb3d3; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#records-panel {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 100%; max-width: 340px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #252540; border-radius: 12px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin-top: 14px; overflow: hidden; display: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#records-panel h3 { padding: 10px 14px; background: #333; font-size: 0.95em; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.rec-row {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: flex; justify-content: space-between; align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 8px 14px; border-bottom: 1px solid #333; font-size: 0.88em;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.rec-row .date { color: #aaa; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.rec-row .times { color: white; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.rec-row .del { color: #e74c3c; cursor: pointer; padding: 2px 6px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.rec-row.submitted { opacity: 0.5; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#config-link { margin-top: 16px; font-size: 0.78em; color: #555; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>#config-link a { color: #a0c4ff; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>.badge {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: inline-block; background: #e74c3c;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: white; border-radius: 10px; font-size: 0.7em;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 2px 7px; margin-right: 6px; vertical-align: middle;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1">&lt;h1&gt;â± ×©×¢×•×Ÿ × ×•×›×—×•×ª&lt;/h1&gt;</p>
<p class="p1">&lt;div id="clock"&gt;--:--:--&lt;/div&gt;</p>
<p class="p1">&lt;div id="date-display"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;button class="btn" id="btn-in"<span class="Apple-converted-space">Â  </span>onclick="punch('IN')"&gt;ğŸŸ¢ ×›× ×™×¡×”&lt;/button&gt;</p>
<p class="p1">&lt;button class="btn" id="btn-out" onclick="punch('OUT')"&gt;ğŸ”´ ×™×¦×™××”&lt;/button&gt;</p>
<p class="p1">&lt;div id="status"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;button class="btn" id="btn-sub" onclick="submitAll()"&gt;</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  </span>ğŸ“¤ ×©×œ×— ×œ-Isufit &lt;span id="pending-badge" class="badge" style="display:none"&gt;0&lt;/span&gt;</p>
<p class="p1">&lt;/button&gt;</p>
<p class="p1">&lt;button class="btn" id="btn-view" onclick="toggleRecords()"&gt;ğŸ“‹ ×”×¦×’ ×¨×©×•××•×ª ×©××•×¨×•×ª&lt;/button&gt;</p>
<p class="p1">&lt;div id="records-panel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;h3&gt;×¨×©×•××•×ª ×©××•×¨×•×ª&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="records-list"&gt;&lt;/div&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p1">&lt;div id="config-link"&gt;</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  </span>×¢×•×‘×“: &lt;strong id="display-worker"&gt;&lt;/strong&gt; |</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;a href="#" onclick="showConfig()"&gt;×”×’×“×¨×•×ª&lt;/a&gt;</p>
<p class="p1">&lt;/div&gt;</p>
<p class="p1">&lt;script&gt;</p>
<p class="p1">const ISUFIT = 'https://extisufit.ngsoft.com/isufit';</p>
<p class="p1">let workerCode = localStorage.getItem('isufit_worker') || '4282';</p>
<p class="p1">document.getElementById('display-worker').textContent = workerCode;</p>
<p class="p1">// â”€â”€ Clock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function tick() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const n = new Date();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pad = x =&gt; String(x).padStart(2,'0');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('clock').textContent =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`${pad(n.getHours())}:${pad(n.getMinutes())}:${pad(n.getSeconds())}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const days = ['×¨××©×•×Ÿ','×©× ×™','×©×œ×™×©×™','×¨×‘×™×¢×™','×—××™×©×™','×©×™×©×™','×©×‘×ª'];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const months = ['×™× ×•××¨','×¤×‘×¨×•××¨','××¨×¥','××¤×¨×™×œ','×××™','×™×•× ×™',</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>'×™×•×œ×™','××•×’×•×¡×˜','×¡×¤×˜××‘×¨','××•×§×˜×•×‘×¨','× ×•×‘××‘×¨','×“×¦××‘×¨'];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('date-display').textContent =</p>
<p dir="rtl" class="p1"><span class="Apple-converted-space">Â  Â  </span>`×™×•× ${days[n.getDay()]}, ${n.getDate()} ${months[n.getMonth()]} ${n.getFullYear()}`;</p>
<p class="p1">}</p>
<p class="p1">setInterval(tick, 1000); tick();</p>
<p class="p1">// â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function todayKey() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const n = new Date();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return `${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,'0')}-${n.getDate()}`;</p>
<p class="p1">}</p>
<p class="p1">function nowHHMM() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const n = new Date();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return `${String(n.getHours()).padStart(2,'0')}:${String(n.getMinutes()).padStart(2,'0')}`;</p>
<p class="p1">}</p>
<p class="p1">function getAllRecords() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>return JSON.parse(localStorage.getItem('isufit_records') || '{}');</p>
<p class="p1">}</p>
<p class="p1">function saveAllRecords(obj) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>localStorage.setItem('isufit_records', JSON.stringify(obj));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>updateBadge();</p>
<p class="p1">}</p>
<p class="p1">// â”€â”€ Punch â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function punch(type) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const key <span class="Apple-converted-space">Â  </span>= todayKey();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const time<span class="Apple-converted-space">Â  </span>= nowHHMM();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const recs<span class="Apple-converted-space">Â  </span>= getAllRecords();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!recs[key]) recs[key] = { in: '', out: '', submitted: false };</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (type === 'IN') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>recs[key].in = time;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showStatus(`âœ… ×›× ×™×¡×” × ×©××¨×”: ${time}`, 'ok');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>recs[key].out = time;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showStatus(`âœ… ×™×¦×™××” × ×©××¨×”: ${time}`, 'ok');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>saveAllRecords(recs);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderRecords();</p>
<p class="p1">}</p>
<p class="p1">// â”€â”€ Submit all â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">async function submitAll() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const recs = getAllRecords();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const pending = Object.entries(recs).filter(([,v]) =&gt; !v.submitted &amp;&amp; (v.in || v.out));</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (pending.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showStatus('××™×Ÿ ×¨×©×•××•×ª ×—×“×©×•×ª ×œ×©×œ×™×—×”', 'info');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showStatus(`â³ ×©×•×œ×— ${pending.length} ×™××™×...`, 'info');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('btn-sub').disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>let ok = 0, fail = 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>for (const [date, rec] of pending) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (rec.in) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const success = await sendRecord(date, 'IN122', rec.in);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (success) ok++; else fail++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (rec.out) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const success = await sendRecord(date, 'OUT122', rec.out);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (success) ok++; else fail++;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>if (fail === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>recs[date].submitted = true;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>await sleep(200); // small delay between requests</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>saveAllRecords(recs);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderRecords();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>document.getElementById('btn-sub').disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (fail === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showStatus(`âœ… × ×©×œ×—×• ${ok} ×¨×©×•××•×ª ×‘×”×¦×œ×—×”!`, 'ok');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showStatus(`âš ï¸ ${ok} ×”×¦×œ×™×—×•, ${fail} × ×›×©×œ×•. ×”×× ××ª×” ××—×•×‘×¨ ×œ-Isufit?`, 'err');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>openIsufitLogin();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p1">async function sendRecord(date, tbName, value) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const url = `${ISUFIT}/ops/opSaveTBChange.aspx` +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`?workerCode=${workerCode}&amp;forDate=${date}&amp;tbName=${tbName}` +</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>`&amp;newVal=${encodeURIComponent(value)}&amp;caller=main`;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const resp = await fetch(url, { credentials: 'include' });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return resp.ok;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>} catch (e) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return false;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p1">function openIsufitLogin() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>// Open login in new tab â€” after login, user comes back here and retries</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>showStatus('ğŸ” ××ª×—×‘×¨ ×œ-Isufit... ××—×¨×™ ×”×”×ª×—×‘×¨×•×ª ×—×–×•×¨ ×•×¡×™×™× ×©×•×‘ "×©×œ×—"', 'info');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>window.open(`${ISUFIT}/login.aspx`, '_blank');</p>
<p class="p1">}</p>
<p class="p1">function sleep(ms) { return new Promise(r =&gt; setTimeout(r, ms)); }</p>
<p class="p1">// â”€â”€ UI helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</p>
<p class="p1">function showStatus(msg, type) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const el = document.getElementById('status');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>el.textContent = msg; el.className = type; el.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (type !== 'err') setTimeout(() =&gt; el.style.display = 'none', 5000);</p>
<p class="p1">}</p>
<p class="p1">function updateBadge() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const recs = getAllRecords();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const count = Object.values(recs).filter(v =&gt; !v.submitted &amp;&amp; (v.in || v.out)).length;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const badge = document.getElementById('pending-badge');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>badge.textContent = count;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>badge.style.display = count &gt; 0 ? 'inline-block' : 'none';</p>
<p class="p1">}</p>
<p class="p1">function toggleRecords() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const panel = document.getElementById('records-panel');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>panel.style.display = panel.style.display === 'block' ? 'none' : 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderRecords();</p>
<p class="p1">}</p>
<p class="p1">function renderRecords() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const recs = getAllRecords();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const list = document.getElementById('records-list');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>list.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const sorted = Object.keys(recs).sort().reverse();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (sorted.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.innerHTML = '&lt;div class="rec-row" style="color:#666"&gt;××™×Ÿ ×¨×©×•××•×ª&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>for (const date of sorted) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const r = recs[date];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const row = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>row.className = 'rec-row' + (r.submitted ? ' submitted' : '');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>row.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;span class="date"&gt;${date} ${r.submitted ? 'âœ“' : ''}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;span class="times"&gt;ğŸŸ¢ ${r.in||'--'} &amp;nbsp; ğŸ”´ ${r.out||'--'}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>&lt;span class="del" onclick="deleteRecord('${date}')"&gt;âœ•&lt;/span&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>list.appendChild(row);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p1">function deleteRecord(date) {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (!confirm(`××—×§ ×¨×©×•××” ×œ×ª××¨×™×š ${date}?`)) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const recs = getAllRecords();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>delete recs[date];</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>saveAllRecords(recs);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>renderRecords();</p>
<p class="p1">}</p>
<p class="p1">function showConfig() {</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>const code = prompt('×§×•×“ ×¢×•×‘×“ (Worker Code):', workerCode);</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>if (code &amp;&amp; code.trim()) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>workerCode = code.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem('isufit_worker', workerCode);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('display-worker').textContent = workerCode;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>showStatus('âœ… ×§×•×“ ×¢×•×‘×“ ×¢×•×“×›×Ÿ', 'ok');</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>}</p>
<p class="p1">}</p>
<p class="p1">// Init</p>
<p class="p1">updateBadge();</p>
<p class="p1">&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
